<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saga Coquerel - V35</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4e342e">

    <style>
        :root { --primary: #4e342e; --secondary: #5D4037; --gold: #B8860B; --bg: #fcfbf8; --card: #ffffff; }
        
        body { font-family: 'Georgia', serif; background: var(--bg); margin: 0; padding-bottom: 90px; color: #222; -webkit-tap-highlight-color: transparent; }

        header { background: var(--primary); color: white; padding: 20px 15px; text-align: center; border-bottom: 4px solid var(--gold); position: sticky; top: 0; z-index: 1000; }
        h1 { margin: 0; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px; }

        /* NAVIGATION BASSE */
        nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; border-top: 1px solid #ddd; box-shadow: 0 -2px 15px rgba(0,0,0,0.1); z-index: 1000; padding-bottom: env(safe-area-inset-bottom); }
        .nav-item { flex: 1; text-align: center; padding: 10px 0; font-size: 0.55rem; color: #888; text-decoration: none; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .nav-item.active { color: var(--gold); font-weight: bold; }
        .nav-icon { font-size: 1.2rem; margin-bottom: 2px; }

        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        .page { display: none; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }

        /* GRILLES */
        .grid-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .vignette { background: white; border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border-top: 4px solid var(--primary); cursor: pointer; display: flex; flex-direction: column; justify-content: center; min-height: 80px; }
        .vignette-title { font-size: 0.8rem; font-weight: bold; color: var(--primary); line-height: 1.2; }
        .vignette-badge { font-size: 0.55rem; text-transform: uppercase; color: var(--gold); font-weight: bold; margin-bottom: 4px; }

        /* VUES D√âTAILS */
        .detail-view { display: none; }
        .back-btn { background: var(--primary); color: white; border: none; padding: 10px 18px; border-radius: 25px; font-size: 0.8rem; margin-bottom: 15px; cursor: pointer; }
        .content-card { background: var(--card); border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border-left: 6px solid var(--primary); padding: 20px; }

        .sec-title { color: var(--gold); font-size: 0.85rem; font-weight: bold; margin-top: 20px; border-bottom: 1px solid #eee; text-transform: uppercase; padding-bottom: 3px; }
        .text-body { font-size: 0.95rem; line-height: 1.6; text-align: justify; margin-top: 8px; color: #333; }

        /* GLOSSAIRE GRANDE TAILLE */
        .glos-link { color: var(--gold); font-weight: bold; text-decoration: none; border-bottom: 1px dotted var(--gold); cursor: pointer; }
        .glos-item { background: white; padding: 22px; border-radius: 12px; margin-bottom: 18px; border-left: 5px solid var(--gold); box-shadow: 0 2px 10px rgba(0,0,0,0.06); scroll-margin-top: 100px; }
        .glos-item b { display: block; color: var(--primary); font-size: 1.15rem; margin-bottom: 5px; }
        .glos-item i { color: var(--gold); font-size: 0.85rem; display: block; margin-bottom: 12px; font-style: italic; }
        .glos-item p { margin: 0; font-size: 0.95rem; line-height: 1.6; color: #333; }

        /* LE NOM */
        .ety-card { background: white; padding: 20px; border-radius: 12px; border-bottom: 4px solid var(--gold); margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        /* FRISE & IMAGES */
        .frise-img { width: 100%; border-radius: 8px; border: 2px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 15px; cursor: zoom-in; }
        #zoom-modal { display: none; position: fixed; z-index: 2000; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); align-items: center; justify-content: center; }
        #zoom-modal img { max-width: 95%; max-height: 95%; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<header>
    <h1 id="app-title">Saga Coquerel</h1>
</header>

<div class="container">
    
    <div id="ancetres" class="page active">
        <div id="gen-list" class="grid-menu"></div>
        <div id="gen-detail" class="detail-view">
            <button class="back-btn" onclick="closeDetail('ancetres')">‚Üê Retour</button>
            <div id="gen-content"></div>
        </div>
    </div>

    <div id="origine" class="page">
        <div id="orig-menu" class="grid-menu"></div>
        <div id="orig-detail" class="detail-view">
            <button class="back-btn" onclick="closeDetail('origine')">‚Üê Retour</button>
            <div id="orig-content"></div>
        </div>
    </div>

    <div id="frise" class="page">
        <h2 style="color:var(--primary); text-align:center; font-size:1rem;">Archives & Documents</h2>
        <img src="image1.jpg" class="frise-img" onclick="openZoom(this.src)">
        <img src="image2.jpg" class="frise-img" onclick="openZoom(this.src)">
        <div style="overflow-x:auto; margin-top:20px;">
            <table style="width:100%; border-collapse:collapse; font-size:0.75rem; background:white;">
                <tbody id="timeline-body"></tbody>
            </table>
        </div>
    </div>

    <div id="lenom" class="page">
        <div class="ety-card">
            <h2 style="color:var(--primary); margin-top:0; font-size:1.2rem;">√âtymologie & Signification</h2>
            <p class="text-body">Le patronyme <strong>COQUEREL</strong> est une formation onomastique typique du vieux fran√ßais m√©di√©val, issue du radical <em>Coq</em> (du bas-latin <em>coccus</em>) compl√©t√© par le suffixe diminutif et affectif <em>-erel</em>.</p>
            <p class="text-body"><strong>Le "Petit Coq" :</strong> Au XIIe si√®cle, ce nom servait de surnom pour d√©signer un homme vif, fier ou combatif. C'est un nom de caract√®re qui √©voque la vaillance.</p>
            <p class="text-body"><strong>Lien v√©g√©tal :</strong> Dans certaines provinces, la "coquerelle" d√©signait √©galement la plante <em>Physalis</em> (Amour-en-cage), reconnaissable √† son fruit rouge rappelant la cr√™te d'un coq.</p>
        </div>
        <div class="ety-card">
            <h2 style="color:var(--primary); font-size:1.1rem;">R√©partition & Statistiques</h2>
            <p class="text-body">Le nom est ancr√© dans le <strong>Nord-Ouest de la France</strong>, entre la Normandie (Seine-Maritime, Eure) et la Picardie (Somme).</p>
            <p class="text-body" style="font-size:0.85rem; font-style:italic;">Statistiques : On estime √† environ 2 850 le nombre de porteurs du nom en France.</p>
        </div>
    </div>

    <div id="glossaire" class="page">
        <div id="glossaire-content"></div>
    </div>

</div>

<div id="zoom-modal" onclick="closeZoom()">
    <img id="zoom-img">
</div>

<nav>
    <div class="nav-item active" onclick="showPage('ancetres', this)">
        <span class="nav-icon">üë§</span><span>Histoire</span>
    </div>
    <div class="nav-item" onclick="showPage('origine', this)">
        <span class="nav-icon">‚õµ</span><span>Origine</span>
    </div>
    <div class="nav-item" onclick="showPage('frise', this)">
        <span class="nav-icon">üìÖ</span><span>Frise</span>
    </div>
    <div class="nav-item" onclick="showPage('lenom', this)">
        <span class="nav-icon">üõ°Ô∏è</span><span>Le Nom</span>
    </div>
    <div class="nav-item" onclick="showPage('glossaire', this)">
        <span class="nav-icon">üìñ</span><span>Glossaire</span>
    </div>
</nav>

<script>
    // --- 1. DONN√âES ORIGINES (PDF) ---
    const origines = [
        {
            title: "L'H√©ritage Viking et l'√âmergence en Normandie (Xe - XIe si√®cles)",
            badge: "Fondations",
            content: `
                <p class="text-body">Tout commence par un m√©tissage profond entre les envahisseurs scandinaves et les populations locales.</p>
                <div class="sec-title">911 : Trait√© de Saint-Clair-sur-Epte</div>
                <p class="text-body">Le chef viking <span class="glos-link" onclick="goToGlos('rollon')">Rollon</span> re√ßoit la Normandie. Les anc√™tres des Coquerel s'installent dans ce "creuset" normand.</p>
                <div class="sec-title">Le M√©tissage</div>
                <p class="text-body">Bien que le nom Coquerel soit d'origine romane, la lign√©e est biologiquement li√©e aux Vikings. En deux g√©n√©rations, ils adoptent la langue fran√ßaise et la religion chr√©tienne.</p>
            `
        },
        {
            title: "La Conqu√™te de l'Angleterre et l'Installation (1066 - 1086)",
            badge: "L'Expansion",
            content: `
                <div class="sec-title">1066 : Bataille d'Hastings</div>
                <p class="text-body">Des membres de la famille rejoignent l'arm√©e de <span class="glos-link" onclick="goToGlos('guillaume')">Guillaume le Conqu√©rant</span>.</p>
                <div class="sec-title">1086 : Le Domesday Book</div>
                <p class="text-body">Un certain Walter Cockerel (ou Gualterius) est enregistr√© comme propri√©taire terrien dans le Gloucestershire.</p>
            `
        },
        {
            title: "L'√âvolution du Nom : De la Normandie √† l'Angleterre",
            badge: "Linguistique",
            content: `<p class="text-body">Le passage de la Manche entra√Æne la transformation en Cockerell ou Cockerill. L'orthographe reste stable en France.</p>`
        },
        {
            title: "Les Lieux Embl√©matiques (Traces de Pierre)",
            badge: "Patrimoine",
            content: `<p class="text-body">Le Manoir de Coquerel (Milly, Manche) et le Domaine de Coquer√©aumont (Seine-Maritime) sont les berceaux de la lign√©e.</p>`
        },
        {
            title: "Sources Documentaires Utilis√©es",
            badge: "Archives",
            content: `<p class="text-body">Domesday Book (1086), A Dictionary of English Surnames, Patronymica Britannica.</p>`
        }
    ];

    // --- 2. DONN√âES HISTOIRE (DATES COMPL√àTES) ---
    const generations = [
        { 
            gen: "I", name: "Pierre COQUEREL (l'Ancien)", 
            dates: "Naissance v. 1575 | D√©c√®s v. 1630 (v. 55 ans)", 
            spouse: "Marie GORAN", 
            contexte: `Vivant sous <span class="glos-link" onclick="goToGlos('henri4')">Henri IV</span>.`, 
            social: "Laboureur.", 
            techno: "Agriculture manuelle." 
        },
        { 
            gen: "II", name: "Pierre COQUEREL", 
            dates: "Naissance 1618 | D√©c√®s 13 mai 1653 (35 ans)", 
            spouse: "Marie MAHEUT (D√©c√®s 1654)", 
            contexte: `√âpoque de <span class="glos-link" onclick="goToGlos('richelieu')">Richelieu</span> et <span class="glos-link" onclick="goToGlos('fronde')">La Fronde</span>.`, 
            social: "Cultivateur.", 
            defis: "Survie aux pillages." 
        },
        { 
            gen: "III", name: "Christophe COQUEREL", 
            dates: "Naissance 1624 | D√©c√®s 13 mai 1657 (33 ans)", 
            spouse: "Jeanne LEBOUT (1622 - 1670)", 
            contexte: `Jeunesse de <span class="glos-link" onclick="goToGlos('louis14')">Louis XIV</span>.`, 
            defis: "Veuvage pr√©coce de Jeanne.", 
            social: "Maintien foncier." 
        },
        { 
            gen: "IV", name: "Jacques COQUEREL", 
            dates: "Naissance 14 jan. 1652 | D√©c√®s 27 juin 1720 (68 ans)", 
            spouse: "Catherine LEBOUT", 
            contexte: `Survit √† l'<span class="glos-link" onclick="goToGlos('hiver1709')">Hiver 1709</span>.`, 
            social: "Notable d'Aubervilliers.", 
            techno: "R√©silience." 
        },
        { 
            gen: "V", name: "Claude COQUEREL", 
            dates: "Naissance 20 avr. 1696 | D√©c√®s 15 d√©c. 1763 (67 ans)", 
            spouse: "Marguerite BOULAN (D√©c√®s 1773)", 
            contexte: `√âpoque des <span class="glos-link" onclick="goToGlos('lumieres')">Lumi√®res</span>.`, 
            social: "Mara√Æcher.", 
            techno: "Vente aux Halles." 
        },
        { 
            gen: "VI", name: "Pierre COQUEREL", 
            dates: "Naissance 15 jan. 1730 | D√©c√®s 04 avr. 1816 (86 ans)", 
            spouse: "Marie Louise MALO (1723-1802)", 
            contexte: `<span class="glos-link" onclick="goToGlos('revolution')">R√©volution Fran√ßaise</span>.`, 
            defis: `Terreur & Empire de <span class="glos-link" onclick="goToGlos('napoleon1')">Napol√©on Ier</span>.`, 
            social: "Citoyen propri√©taire." 
        },
        { 
            gen: "VII", name: "Pierre COQUEREL", 
            dates: "Naissance 15 mai 1761 | D√©c√®s 11 oct. 1852 (91 ans)", 
            spouse: "Marie TROUET (1765-1836)", 
            contexte: `<span class="glos-link" onclick="goToGlos('cholera')">Chol√©ra 1832</span>.`, 
            social: `Ouverture du <span class="glos-link" onclick="goToGlos('canal')">Canal Saint-Denis</span>.`, 
            techno: "Industrie." 
        },
        { 
            gen: "VIII", name: "Pierre Honor√© C. COQUEREL", 
            dates: "Naissance 13 jan. 1789 | D√©c√®s 05 sept. 1851 (62 ans)", 
            spouse: "Marie BOUDIER (1795-1875)", 
            contexte: "Louis-Philippe | Rail.", 
            social: "Ma√Ætre Mara√Æcher.", 
            techno: "Cloches de verre." 
        },
        { 
            gen: "IX", name: "Michel Lazare COQUEREL", 
            dates: "Naissance 28 ao√ªt 1815 | D√©c√®s 14 mai 1885 (70 ans)", 
            spouse: "Marie Louise DEMARS", 
            contexte: `Empire d'<span class="glos-link" onclick="goToGlos('haussmann')">Haussmann</span>.`, 
            defis: "H√©ros du Si√®ge 1870.", 
            social: "R√©sistance agricole." 
        },
        { 
            gen: "X", name: "Pierre Honor√© COQUEREL", 
            dates: "Naissance 03 oct. 1842 | D√©c√®s 10 jan. 1912 (70 ans)", 
            spouse: "Constance BONNEAU", 
            contexte: "Belle √âpoque.", 
            social: "Expansion industrielle.", 
            techno: "Gaz & √âlectricit√©." 
        },
        { 
            gen: "XI", name: "Louis Laurent COQUEREL", 
            dates: "Naissance 10 juin 1880 | D√©c√®s 25 avr. 1964 (84 ans)", 
            spouse: "Marie Louise LEMOINE (1887-1976)", 
            contexte: `<span class="glos-link" onclick="goToGlos('ww1')">1914-1918</span> | <span class="glos-link" onclick="goToGlos('occupation')">Occupation</span>.`, 
            social: "Dernier cultivateur.", 
            techno: "M√©canisation." 
        },
        { 
            gen: "XII", name: "Louis Alfred COQUEREL", 
            dates: "Naissance 12 oct. 1912 | D√©c√®s 18 avr. 2002 (90 ans) | Mariage 08/08/1942", 
            spouse: "Simone SELLIER (1914-2000)", 
            contexte: `<span class="glos-link" onclick="goToGlos('trente')">Trente Glorieuses</span>.`, 
            social: "Salariat moderne.", 
            techno: "Consommation." 
        },
        { 
            gen: "XIII", name: "Alain Robert COQUEREL", 
            dates: "Naissance 03/03/1948", 
            spouse: "Micheline GUILLEMIN", 
            contexte: "Baby Boom.", 
            social: "Gardien des archives.", 
            techno: "Tertiaire." 
        },
        { 
            gen: "XIV", name: "Arnaud COQUEREL", 
            dates: "Naissance 15/11/1982 | Mariage 09/05/2015", 
            spouse: "Isabelle PASCULLI (13/12/1980)", 
            contexte: `<span class="glos-link" onclick="goToGlos('internet')">Internet</span>.`, 
            defis: "Transmission.", 
            techno: "IA." 
        },
        { 
            gen: "XV", name: "Manon & Arthur", 
            dates: "11/06/2016 (Manon) | 04/10/2019 (Arthur)", 
            spouse: "L'Avenir", 
            contexte: "G√©n√©ration Alpha.", 
            defis: "Futur.", 
            techno: "Num√©rique." 
        }
    ];

    // --- 3. GLOSSAIRE (GRANDE TAILLE V32) ---
    const glossaire = {
        "henri4": { t: "Henri IV (1589-1610)", i: "Le Roi de la Paix", c: "Premier roi Bourbon, il pacifie la France apr√®s les Guerres de Religion par l'√âdit de Nantes. Il favorise l'agriculture ('la poule au pot') et prot√®ge les laboureurs." },
        "fronde": { t: "La Fronde (1648-1653)", i: "Guerre Civile", c: "P√©riode de troubles durant l'enfance de Louis XIV. Aubervilliers fut pill√©e et br√ªl√©e par les arm√©es de mercenaires assi√©geant Paris." },
        "hiver1709": { t: "Grand Hiver (1709)", i: "Apocalypse climatique", c: "En janvier 1709, le froid chute √† -20¬∞C. Les c√©r√©ales meurent, entra√Ænant une famine qui tue 600 000 personnes en France." },
        "revolution": { t: "R√©volution Fran√ßaise (1789)", i: "Fin d'un monde", c: "Chute de la monarchie. Pour les Coquerel, cela signifie la fin des redevances seigneuriales et l'acc√®s √† la pleine propri√©t√©." },
        "ww1": { t: "Guerre de 1914-1918", i: "Le sacrifice paysan", c: "Conflit mondial ayant d√©cim√© la jeunesse rurale. Louis Laurent a v√©cu ce traumatisme total." },
        "internet": { t: "Internet", i: "R√©volution Num√©rique", c: "Permet aujourd'hui de reconnecter les pi√®ces du puzzle familial √©parpill√©es sur quatre si√®cles." },
        "rollon": { t: "Rollon", i: "Le Fondateur", c: "Chef viking recevant la Normandie en 911. Socle de l'identit√© normande de la famille." },
        "guillaume": { t: "Guillaume le Conqu√©rant", i: "Duc et Roi", c: "Duc de Normandie devenu roi d'Angleterre en 1066 apr√®s la bataille d'Hastings." }
    };

    // --- 4. LOGIQUE D'AFFICHAGE ---
    function showPage(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
        window.scrollTo(0,0);
        document.getElementById('app-title').innerText = el.querySelector('span:last-child').innerText;
        closeDetail('origine'); closeDetail('ancetres');
    }

    function openDetail(page, index) {
        const dataSet = (page === 'origine') ? origines : generations;
        const listDiv = (page === 'origine') ? 'orig-menu' : 'gen-list';
        const detailDiv = (page === 'origine') ? 'orig-detail' : 'gen-detail';
        const contentDiv = (page === 'origine') ? 'orig-content' : 'gen-content';
        const item = dataSet[index];

        document.getElementById(listDiv).style.display = 'none';
        document.getElementById(detailDiv).style.display = 'block';

        let html = `<div class="content-card">`;
        if(page === 'origine') {
            html += `<span class="vignette-badge">${item.badge}</span><h2>${item.title}</h2>${item.content}`;
        } else {
            html += `<span class="vignette-badge">G√©n. ${item.gen}</span><h2>${item.name}</h2>
                     <div class="sec-title">Dates Cl√©s</div><p>${item.dates}</p>
                     <div class="sec-title">√âpouse</div><p style="color:#C2185B; font-weight:bold;">${item.spouse}</p>
                     <div class="sec-title">üëë Contexte & R√®gnes</div><div class="text-body">${item.contexte}</div>
                     <div class="sec-title">üöú Place Sociale</div><div class="text-body">${item.social}</div>
                     <div class="sec-title">üõ† Technologie</div><div class="text-body">${item.techno}</div>`;
        }
        html += `</div>`;
        document.getElementById(contentDiv).innerHTML = html;
        window.scrollTo(0,0);
    }

    function closeDetail(page) {
        const listDiv = (page === 'origine') ? 'orig-menu' : 'gen-list';
        const detailDiv = (page === 'origine') ? 'orig-detail' : 'gen-detail';
        document.getElementById(listDiv).style.display = 'grid';
        document.getElementById(detailDiv).style.display = 'none';
    }

    function goToGlos(key) {
        showPage('glossaire', document.querySelectorAll('.nav-item')[4]);
        setTimeout(() => {
            const target = document.getElementById('bio-' + key);
            if(target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 150);
    }

    function openZoom(src) { document.getElementById('zoom-img').src = src; document.getElementById('zoom-modal').style.display = 'flex'; }
    function closeZoom() { document.getElementById('zoom-modal').style.display = 'none'; }

    // INITIALISATION AUTOMATIQUE
    window.onload = function() {
        const origMenu = document.getElementById('orig-menu');
        origines.forEach((o, i) => { origMenu.innerHTML += `<div class="vignette" onclick="openDetail('origine', ${i})"><span class="vignette-badge">${o.badge}</span><div class="vignette-title">${o.title}</div></div>`; });

        const genList = document.getElementById('gen-list');
        generations.forEach((g, i) => { genList.innerHTML += `<div class="vignette" onclick="openDetail('ancetres', ${i})"><span class="vignette-badge">G√©n. ${g.gen}</span><div class="vignette-title">${g.name}</div></div>`; });

        const glosDiv = document.getElementById('glossaire-content');
        Object.keys(glossaire).sort().forEach(key => { const item = glossaire[key]; glosDiv.innerHTML += `<div class="glos-item" id="bio-${key}"><b>${item.t}</b><i>${item.i}</i><p>${item.c}</p></div>`; });

        const timelineBody = document.getElementById('timeline-body');
        const timelineData = [["911", "Rollon", "Normandie"], ["1066", "Hastings", "Angleterre"], ["1600", "I. Pierre", "Henri IV"], ["1789", "VIII. Pierre", "R√©volution"], ["1870", "IX. Michel", "Si√®ge Paris"], ["2026", "XV. Manon & Arthur", "Avenir"]];
        timelineData.forEach(t => { timelineBody.innerHTML += `<tr><td style="padding:10px; border-bottom:1px solid #eee;"><b>${t[0]}</b></td><td style="padding:10px; border-bottom:1px solid #eee;">${t[1]}</td><td style="padding:10px; border-bottom:1px solid #eee;">${t[2]}</td></tr>`; });
    };

    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }
</script>

</body>
</html>