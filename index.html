<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saga Coquerel - App</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4e342e">

    <style>
        :root { --primary: #4e342e; --secondary: #5D4037; --gold: #B8860B; --bg: #fcfbf8; --card: #ffffff; }
        
        body { font-family: 'Georgia', serif; background: var(--bg); margin: 0; padding-bottom: 80px; color: #222; -webkit-tap-highlight-color: transparent; }

        header { background: var(--primary); color: white; padding: 20px 15px; text-align: center; border-bottom: 4px solid var(--gold); position: sticky; top: 0; z-index: 1000; }
        h1 { margin: 0; font-size: 1.2rem; text-transform: uppercase; letter-spacing: 1px; }

        /* NAVIGATION BASSE */
        nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; border-top: 1px solid #ddd; box-shadow: 0 -2px 15px rgba(0,0,0,0.1); z-index: 1000; padding-bottom: env(safe-area-inset-bottom); }
        .nav-item { flex: 1; text-align: center; padding: 12px 0; font-size: 0.65rem; color: #888; text-decoration: none; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .nav-item.active { color: var(--gold); font-weight: bold; }
        .nav-icon { font-size: 1.3rem; margin-bottom: 2px; }

        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        .page { display: none; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }

        /* MENU DES G√âN√âRATIONS (GRILLE) */
        .gen-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .gen-menu-card { background: white; border-radius: 12px; padding: 15px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border-top: 4px solid var(--primary); cursor: pointer; }
        .menu-badge { font-size: 0.6rem; text-transform: uppercase; color: var(--gold); font-weight: bold; margin-bottom: 5px; display: block; }
        .menu-name { font-size: 0.95rem; font-weight: bold; color: var(--primary); line-height: 1.2; }
        .menu-date { font-size: 0.75rem; color: #888; margin-top: 5px; }

        /* D√âTAIL G√âN√âRATION */
        #gen-detail { display: none; }
        .back-btn { background: var(--primary); color: white; border: none; padding: 10px 18px; border-radius: 25px; font-size: 0.85rem; margin-bottom: 15px; cursor: pointer; }

        .gen-card-full { background: var(--card); border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border-left: 6px solid var(--primary); padding: 20px; }
        .sec-title { color: var(--gold); font-size: 0.85rem; font-weight: bold; margin-top: 20px; border-bottom: 1px solid #eee; text-transform: uppercase; padding-bottom: 3px; }
        .text-body { font-size: 1rem; line-height: 1.6; text-align: justify; margin-top: 8px; }

        /* IMAGES ET ZOOM */
        .frise-img { width: 100%; border-radius: 8px; border: 2px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 15px; cursor: zoom-in; }
        #zoom-modal { display: none; position: fixed; z-index: 2000; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); align-items: center; justify-content: center; }
        #zoom-modal img { max-width: 95%; max-height: 95%; border: 2px solid #444; }
        .close-zoom { position: absolute; top: 20px; right: 20px; color: white; font-size: 2rem; font-weight: bold; }

        /* √âTYMOLOGIE & STATS */
        .ety-card { background: white; padding: 20px; border-radius: 12px; border-bottom: 4px solid var(--gold); margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .stat-box { background: #f9f6f2; padding: 12px; border-radius: 8px; text-align: center; }
        .stat-val { display: block; font-size: 1.1rem; font-weight: bold; color: var(--gold); }
        .stat-lbl { font-size: 0.6rem; text-transform: uppercase; color: #888; }
        
        .list-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #ddd; font-size: 0.9rem; }
        .list-item:last-child { border-bottom: none; }

        /* GLOSSAIRE */
        .glos-item { background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-left: 5px solid var(--gold); box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .glos-item b { display: block; color: var(--primary); font-size: 1.1rem; margin-bottom: 3px; }
        .glos-item i { color: var(--gold); font-size: 0.85rem; display: block; margin-bottom: 8px; font-style: italic; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<header>
    <h1 id="app-title">Saga Coquerel</h1>
</header>

<div class="container">
    <div id="ancetres" class="page active">
        <div id="gen-list" class="gen-grid"></div>
        
        <div id="gen-detail">
            <button class="back-btn" onclick="closeDetail()">‚Üê Retour</button>
            <div id="detail-content"></div>
        </div>
    </div>

    <div id="frise" class="page">
        <h2 style="color:var(--primary); text-align:center; font-size:1.1rem;">Documents Originaux</h2>
        <p style="text-align:center; font-size:0.8rem; color:#888;">Cliquez sur une image pour zoomer.</p>
        <img src="image1.jpg" class="frise-img" onclick="openZoom(this.src)" alt="Frise Document 1">
        <img src="image2.jpg" class="frise-img" onclick="openZoom(this.src)" alt="Frise Document 2">
        
        <h2 style="color:var(--primary); text-align:center; font-size:1.1rem; margin-top:30px;">Chronologie Familiale</h2>
        <div style="overflow-x:auto;">
            <table style="width:100%; border-collapse:collapse; font-size:0.8rem; background:white;">
                <thead style="background:var(--primary); color:white;">
                    <tr><th style="padding:10px; text-align:left;">An</th><th style="padding:10px; text-align:left;">Famille</th><th style="padding:10px; text-align:left;">Histoire</th></tr>
                </thead>
                <tbody id="timeline-body"></tbody>
            </table>
        </div>
    </div>

    <div id="nom" class="page">
        <div class="ety-card">
            <h2 style="color:var(--primary); margin-top:0; font-size:1.2rem;">√âtymologie du Nom</h2>
            <p>Le nom <strong>COQUEREL</strong> est un d√©riv√© du vieux fran√ßais <em>Coq</em>. Le suffixe diminutif <em>-erel</em> servait √† d√©signer un <strong>"petit coq"</strong>.</p>
            <p>Dans la France m√©di√©vale, c'√©tait un surnom imag√© attribu√© √† un homme vif, fier, ou quelque peu querelleur. Une autre hypoth√®se le lie √† la <em>coquerelle</em>, nom populaire du fruit de l'alk√©kenge, reconnaissable √† sa couleur rouge rappelant la cr√™te du coq.</p>
        </div>

        <div class="ety-card">
            <h2 style="color:var(--primary); font-size:1.2rem;">R√©partition G√©ographique</h2>
            <p>Le patronyme est tr√®s majoritairement pr√©sent dans le <strong>Nord-Ouest de la France</strong>.</p>
            <div class="stat-grid">
                <div class="stat-box"><span class="stat-val">Normandie</span><span class="stat-lbl">R√©gion n¬∞1</span></div>
                <div class="stat-box"><span class="stat-val">Hauts-de-France</span><span class="stat-lbl">R√©gion n¬∞2</span></div>
            </div>
            
            <h3 style="color:var(--secondary); font-size:0.9rem; margin-top:20px;">Top 5 des D√©partements :</h3>
            <div class="list-item"><span>Seine-Maritime (76)</span><strong>D√©ficit/Densit√© Max</strong></div>
            <div class="list-item"><span>Pas-de-Calais (62)</span><strong>Ancrage fort</strong></div>
            <div class="list-item"><span>Eure (27)</span><strong>Bassin Historique</strong></div>
            <div class="list-item"><span>Calvados (14)</span><strong>Pr√©sence s√©culaire</strong></div>
            <div class="list-item"><span>Somme (80)</span><strong>Origine Coquerel (village)</strong></div>
        </div>

        <div class="ety-card">
            <h2 style="color:var(--primary); font-size:1.2rem;">Statistiques Actuelles</h2>
            <div class="stat-grid">
                <div class="stat-item"><span class="stat-val">~2 800</span><span class="stat-lbl">Porteurs en France</span></div>
                <div class="stat-item"><span class="stat-val">3 647<sup>e</sup></span><span class="stat-lbl">Rang national</span></div>
            </div>
        </div>
    </div>

    <div id="glossaire" class="page">
        <h2 style="color:var(--primary); text-align:center; font-size:1.1rem;">Encyclop√©die Historique</h2>
        <div id="glossaire-content"></div>
    </div>
</div>

<div id="zoom-modal" onclick="closeZoom()">
    <span class="close-zoom">&times;</span>
    <img id="zoom-img" src="" alt="Zoom">
</div>

<nav>
    <div class="nav-item active" onclick="showPage('ancetres', this)">
        <span class="nav-icon">üë§</span><span>Histoire</span>
    </div>
    <div class="nav-item" onclick="showPage('frise', this)">
        <span class="nav-icon">üìÖ</span><span>Frise</span>
    </div>
    <div class="nav-item" onclick="showPage('nom', this)">
        <span class="nav-icon">üõ°Ô∏è</span><span>Le Nom</span>
    </div>
    <div class="nav-item" onclick="showPage('glossaire', this)">
        <span class="nav-icon">üìñ</span><span>Glossaire</span>
    </div>
</nav>

<script>
    // --- DONN√âES G√âN√âRATIONS ---
    const generations = [
        {
            gen: "I", name: "Pierre COQUEREL (l'Ancien)", dates: "v. 1575 - v. 1630",
            spouse: "Marie GORAN",
            contexte: `Pierre l'Ancien vit une p√©riode de reconstruction nationale. Il est le contemporain du roi <span class="glos-link" onclick="goToGlos('henri4')">Henri IV</span>, qui a pacifi√© la France apr√®s les Guerres de Religion par l'√âdit de Nantes.`,
            social: `Il porte le titre de <strong>Laboureur</strong>. √Ä Aubervilliers, cela d√©signe l'√©lite paysanne : il poss√®de ses propres b√™tes de trait et sa charrue, contrairement aux simples manouvriers.`,
            techno: `L'agriculture est manuelle. Aubervilliers est alors un p√®lerinage royal c√©l√®bre pour son √©glise Notre-Dame-des-Vertus.`
        },
        {
            gen: "II", name: "Pierre COQUEREL", dates: "D√©c√®s 1653",
            spouse: "Marie MAHEUT",
            contexte: `√âpoque de <span class="glos-link" onclick="goToGlos('richelieu')">Richelieu</span>. La famille subit les troubles de <span class="glos-link" onclick="goToGlos('fronde')">La Fronde</span>, une guerre civile violente qui ravage les villages d'√éle-de-France.`,
            social: `Aubervilliers est pill√©. Les r√©coltes sont r√©quisitionn√©es par les troupes en marche vers Paris.`,
            defis: `L'ins√©curit√© est totale. Les habitants se cachent lors des passages de mercenaires.`
        },
        {
            gen: "III", name: "Christophe COQUEREL", dates: "1624 - 1657",
            spouse: "Jeanne LEBOUT",
            contexte: `Contemporain de la jeunesse de <span class="glos-link" onclick="goToGlos('louis14')">Louis XIV</span>. Christophe meurt pr√©matur√©ment √† 32 ans.`,
            defis: `<strong>La Mortalit√© Pr√©coce :</strong> Sa veuve Jeanne Lebout g√®re seule l'exploitation, prouvant une force de caract√®re exceptionnelle pour maintenir le patrimoine.`,
            techno: `Le travail physique est ext√©nuant, l'hygi√®ne reste pr√©caire.`
        },
        {
            gen: "IV", name: "Jacques COQUEREL", dates: "1652 - 1720",
            spouse: "Catherine LEBOUT",
            contexte: `Jacques survit au <span class="glos-link" onclick="goToGlos('hiver1709')">Grand Hiver de 1709</span>. Le sol g√®le sur un m√®tre, les arbres √©clatent de froid.`,
            social: `Il devient un <strong>Notable rural</strong>. Son mariage unit les deux plus puissantes familles de cultivateurs locaux.`,
            techno: `Usage des premi√®res formes d'engrais urbains pour doper les r√©coltes.`
        },
        {
            gen: "V", name: "Claude COQUEREL", dates: "1696 - 1763",
            spouse: "Marguerite BOULAN",
            contexte: `R√®gne de Louis XV. P√©riode de prosp√©rit√© √©conomique et essor des Lumi√®res.`,
            social: `Virage vers le <strong>mara√Æchage intensif</strong>. Paris grandit et r√©clame des l√©gumes frais au quotidien.`,
            techno: `D√©veloppement des circuits courts avec les halles de Paris.`
        },
        {
            gen: "VI", name: "Pierre COQUEREL", dates: "1730 - 1816",
            spouse: "Marie Louise MALO",
            contexte: `Il voit la chute de la Bastille. Il passe du statut de "Sujet" √† celui de <strong>"Citoyen"</strong> lors de la <span class="glos-link" onclick="goToGlos('revolution')">R√©volution Fran√ßaise</span>.`,
            defis: `Il traverse la Terreur et voit l'ascension fulgurante de <span class="glos-link" onclick="goToGlos('napoleon1')">Napol√©on Ier</span>.`,
            techno: `La fin du servage de fait et la naissance de la propri√©t√© priv√©e paysanne.`
        },
        {
            gen: "VII", name: "Pierre COQUEREL", dates: "1761 - 1852",
            spouse: "Marie TROUET",
            contexte: `Doyen de la lign√©e (91 ans). Il survit √† la grande √©pid√©mie de <span class="glos-link" onclick="goToGlos('cholera')">Chol√©ra de 1832</span>.`,
            social: `Le creusement du Canal Saint-Denis am√®ne l'industrie au milieu des champs de la famille.`,
            techno: `Apparition des premi√®res machines agricoles simples.`
        },
        {
            gen: "VIII", name: "P.H. Claude COQUEREL", dates: "1789 - 1851",
            spouse: "Marie BOUDIER",
            contexte: `Monarchie de Juillet. Le chemin de fer (1842) menace le monopole mara√Æcher francilien.`,
            social: `Devient <strong>Ma√Ætre Mara√Æcher</strong>. Sp√©cialiste de la culture sous cloches de verre pour rester comp√©titif.`,
            techno: `M√©thodes de for√ßage des l√©gumes pour vendre des primeurs tr√®s t√¥t en saison.`
        },
        {
            gen: "IX", name: "Michel Lazare COQUEREL", dates: "1815 - 1885",
            spouse: "Marie Louise DEMARS",
            contexte: `Second Empire. Paris est transform√© par Haussmann.`,
            defis: `<strong>H√©ros du Si√®ge de 1870 :</strong> Durant la guerre contre les Prussiens, il cultive sous les bombes pour nourrir Paris.`,
            techno: `Utilisation massive des 'boues de Paris' comme engrais de haute performance.`
        },
        {
            gen: "X", name: "Pierre Honor√© COQUEREL", dates: "1842 - 1912",
            spouse: "Constance BONNEAU",
            contexte: `Belle √âpoque. Les usines chimiques polluantes envahissent Aubervilliers.`,
            social: `La terre agricole est rachet√©e par le b√©ton industriel.`,
            techno: `Arriv√©e de l'√©clairage au gaz et de l'√©lectricit√© dans le village.`
        },
        {
            gen: "XI", name: "Louis Laurent COQUEREL", dates: "1880 - 1964",
            spouse: "Marie Louise LEMOINE",
            contexte: `Traverse l'enfer de <span class="glos-link" onclick="goToGlos('ww1')">1914-1918</span> et l'Occupation en 39-45.`,
            social: `<strong>Dernier cultivateur</strong> de la Saga. Il assiste √† la fin des chevaux de labour.`,
            techno: `Remplacement de la force animale par les premiers camions et tracteurs.`
        },
        {
            gen: "XII", name: "Louis Alfred COQUEREL", dates: "1912 - 2002",
            spouse: "Simone SELLIER",
            contexte: `T√©moin des <span class="glos-link" onclick="goToGlos('trente')">Trente Glorieuses</span>.`,
            social: `Citoyen moderne. La terre n'est plus un m√©tier mais une passion familiale.`,
            techno: `Passage de la radio √† la t√©l√©vision, puis √† l'ordinateur.`
        },
        {
            gen: "XIII", name: "Alain Robert COQUEREL", dates: "N√© en 1948",
            spouse: "Micheline GUILLEMIN",
            contexte: `Enfant du Baby Boom. Transition vers la vie de bureau et les services.`,
            defis: `Gardien de la m√©moire. Il sauve les archives de 400 ans d'histoire.`,
            social: `Consommation de masse et d√©but des loisirs modernes.`
        },
        {
            gen: "XIV", name: "Arnaud COQUEREL", dates: "N√© en 1982",
            spouse: "Isabelle PASCULLI",
            contexte: `G√©n√©ration <span class="glos-link" onclick="goToGlos('internet')">Internet</span>.`,
            defis: `Transmission du flambeau √† l'√®re num√©rique.`,
            techno: `Intelligence artificielle et urgence climatique.`
        },
        {
            gen: "XV", name: "Manon & Arthur", dates: "XXI<sup>e</sup> Si√®cle",
            spouse: "L'Avenir",
            contexte: `H√©ritiers directs de 15 g√©n√©rations de Coquerel √† Aubervilliers.`,
            defis: `R√©inventer le futur tout en respectant l'effort des anc√™tres.`,
            techno: `Monde ultra-connect√©.`
        }
    ];

    const glossaire = {
        "henri4": { t: "Henri IV (1589-1610)", i: "Le Roi Pacificateur", c: "Premier roi de la branche des Bourbons, il h√©rite d'un pays ruin√© par 30 ans de Guerres de Religion. En signant l'√âdit de Nantes (1598), il instaure une tol√©rance religieuse exceptionnelle. Il relance l'√©conomie rurale par des slogans forts comme 'la poule au pot' et la reconstruction des routes et canaux. Il est assassin√© par Ravaillac en 1610." },
        "richelieu": { t: "Cardinal de Richelieu", i: "L'Architecte de l'Absolutisme", c: "Principal ministre de Louis XIII, il a pass√© 18 ans √† briser l'influence des grands nobles et √† affaiblir les protestants politiquement. Son but √©tait de rendre le Roi tout-puissant √† l'int√©rieur et la France redout√©e √† l'ext√©rieur. Il a fond√© l'Acad√©mie fran√ßaise et renforc√© l'unit√© nationale." },
        "fronde": { t: "La Fronde (1648-1653)", i: "Une Guerre Civile Traumatisante", c: "Une p√©riode de troubles majeurs durant l'enfance de Louis XIV. Les juges (Parlement) puis les grands Princes se r√©voltent contre les imp√¥ts et l'autorit√© de Mazarin. Les campagnes autour de Paris sont le th√©√¢tre de pillages atroces par des mercenaires, provoquant des famines et une haine durable de la capitale chez les paysans." },
        "louis14": { t: "Louis XIV (1643-1715)", i: "Le Roi-Soleil", c: "Plus long r√®gne de l'histoire de France (72 ans). Il centralise tout √† Versailles. Son r√®gne est celui de la grandeur militaire et artistique (Moli√®re, Lully, Le N√¥tre). Mais les guerres incessantes de la fin de son r√®gne et les catastrophes climatiques (Hiver 1709) ont durement frapp√© le peuple des campagnes." },
        "hiver1709": { t: "Grand Hiver de 1709", i: "Le Calvaire Blanc", c: "Le 5 janvier 1709, une vague de froid polaire s'abat sur la France en quelques heures. Le sol g√®le sur 1 m√®tre, les noyers √©clatent, le vin g√®le dans les verres √† Versailles. On compte 600 000 morts de faim dans le royaume. Les Coquerel, laboureurs r√©silients, ont r√©ussi √† pr√©server leurs semences l√† o√π d'autres ont tout perdu." },
        "revolution": { t: "R√©volution Fran√ßaise (1789)", i: "La Chute de l'Ancien R√©gime", c: "Une bascule totale : abolition des privil√®ges lors de la nuit du 4 ao√ªt, fin de la f√©odalit√©, et D√©claration des Droits de l'Homme. Pour la famille, cela signifie devenir pleinement propri√©taire de ses terres sans redevances seigneuriales. Le paysan devient citoyen et participe √† la vie politique locale." },
        "napoleon1": { t: "Napol√©on Ier (1804-1815)", i: "L'Aigle de l'Empire", c: "G√©n√©ral r√©publicain devenu Empereur. Il r√©organise la France : cr√©ation du Code Civil, des Lyc√©es, des Pr√©fectures et de la Banque de France. Ses guerres mobilisent des millions d'hommes mais ses r√©formes structurelles restent le socle de la France moderne." },
        "cholera": { t: "Chol√©ra de 1832", i: "La Peur Bleue", c: "Pand√©mie venue d'Asie, elle tue 19 000 personnes √† Paris en quelques mois. Elle frappe aveugl√©ment les taudis comme les palais (le Premier ministre en meurt). Cette crise d√©clenche une prise de conscience sur l'hygi√®ne et force la ville √† construire des √©gouts et √† assainir l'eau potable." },
        "trente": { t: "Trente Glorieuses (1945-1975)", i: "Le Miracle √âconomique", c: "P√©riode de croissance exceptionnelle apr√®s la Seconde Guerre mondiale. C'est l'√©poque du plein emploi, du baby-boom, de la g√©n√©ralisation de l'automobile et de la t√©l√©vision. C'est aussi la fin de la soci√©t√© paysanne traditionnelle au profit d'une France urbaine de services." },
        "internet": { t: "R√©volution Num√©rique", i: "Le Village Global", c: "D√©mocratisation mondiale de l'information et du Web d√®s les ann√©es 1990. Elle transforme radicalement le travail et permet aujourd'hui aux descendants de retrouver leurs racines par des outils technologiques que les anc√™tres n'auraient pu imaginer." }
    };

    // --- LOGIQUE ---
    function showPage(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
        window.scrollTo(0,0);
        document.getElementById('app-title').innerText = el.querySelector('span:last-child').innerText;
        if(id !== 'ancetres') closeDetail();
    }

    function openDetail(index) {
        const g = generations[index];
        document.getElementById('gen-list').style.display = 'none';
        document.getElementById('gen-detail').style.display = 'block';
        document.getElementById('detail-content').innerHTML = `
            <div class="gen-card-full">
                <span class="gen-badge">G√©n√©ration ${g.gen}</span>
                <div class="gen-name" style="font-size:1.6rem;">${g.name}</div>
                <div class="gen-dates">${g.dates}</div>
                <div class="info-box"><strong>√âpouse :</strong> <span class="spouse">${g.spouse}</span></div>
                <div class="sec-title">üëë Contexte & R√®gnes</div><div class="text-body">${g.contexte}</div>
                <div class="sec-title">üöú Place Sociale & M√©tier</div><div class="text-body">${g.social}</div>
                ${g.defis ? `<div class="sec-title">‚ö†Ô∏è D√©fis majeurs</div><div class="text-body">${g.defis}</div>` : ''}
                <div class="sec-title">üõ† Technologie & Vie</div><div class="text-body">${g.techno}</div>
            </div>
        `;
        window.scrollTo(0,0);
    }

    function closeDetail() {
        document.getElementById('gen-list').style.display = 'grid';
        document.getElementById('gen-detail').style.display = 'none';
    }

    function goToGlos(key) {
        showPage('glossaire', document.querySelectorAll('.nav-item')[3]);
        setTimeout(() => {
            const target = document.getElementById('bio-' + key);
            if(target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 150);
    }

    function openZoom(src) { document.getElementById('zoom-img').src = src; document.getElementById('zoom-modal').style.display = 'flex'; }
    function closeZoom() { document.getElementById('zoom-modal').style.display = 'none'; }

    // Init List
    const genList = document.getElementById('gen-list');
    generations.forEach((g, i) => {
        genList.innerHTML += `<div class="gen-menu-card" onclick="openDetail(${i})"><span class="menu-badge">G√©n. ${g.gen}</span><div class="menu-name">${g.name}</div><div class="menu-date">${g.dates}</div></div>`;
    });

    // Init Glossaire
    const glosDiv = document.getElementById('glossaire-content');
    Object.keys(glossaire).forEach(key => {
        const item = glossaire[key];
        glosDiv.innerHTML += `<div class="glos-item" id="bio-${key}"><b>${item.t}</b><i>${item.i}</i><p style="margin:0; line-height:1.5; color:#444;">${item.c}</p></div>`;
    });

    // Init Frise
    const timelineData = [["1600", "I. Pierre", "Henri IV"], ["1618", "II. Pierre", "Guerre 30 Ans"], ["1652", "IV. Jacques", "Fronde"], ["1709", "Jacques", "Grand Hiver"], ["1789", "VIII. Pierre", "Bastille"], ["1870", "IX. Michel", "Si√®ge Paris"], ["1912", "XII. Louis Alfred", "Titanic"], ["1982", "XIV. Arnaud", "Internet"], ["2019", "XV. Arthur", "Trou Noir"]];
    const timelineBody = document.getElementById('timeline-body');
    timelineData.forEach(t => { timelineBody.innerHTML += `<tr><td style="padding:10px;"><b>${t[0]}</b></td><td style="padding:10px;">${t[1]}</td><td style="padding:10px;">${t[2]}</td></tr>`; });

    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }
</script>

</body>
</html>